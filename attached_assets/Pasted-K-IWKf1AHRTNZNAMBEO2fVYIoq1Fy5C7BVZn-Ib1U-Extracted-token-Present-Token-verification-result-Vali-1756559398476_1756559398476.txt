K_IWKf1AHRTNZNAMBEO2fVYIoq1Fy5C7BVZn-Ib1U
Extracted token: Present
Token verification result: Valid
Decoded token userId: 44
User lookup result: Found user user2
Set req.user to: user2 (entrepreneur)
Ø·Ù„Ø¨ POST /api/nda/24/complete - Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©: Ù…ØµØ±Ø­
Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ØµØ±Ø­: user2, Ø¯ÙˆØ±: entrepreneur
ğŸ“ Ø±Ù‚Ù… Ø±Ø§Ø¦Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ (Ø£ØµÙ„ÙŠ): +96652021746 â†’ (Ù…Ù†Ø³Ù‚): +96652021746
ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ø´Ø±ÙƒØ© (Ø£ØµÙ„ÙŠ): +96612345672 â†’ (Ù…Ù†Ø³Ù‚): +96612345672
ğŸ“ Ø­Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø±Ù‚Ù… Ø±Ø§Ø¦Ø¯ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„: {
  isValid: true,
  message: 'Ø±Ù‚Ù… ØµØ­ÙŠØ­ Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ ØµØ§Ø¯Ù‚: +96652021746',
  formattedValue: '+96652021746'
}
ğŸ“ Ø­Ø§Ù„Ø© ØªÙ†Ø³ÙŠÙ‚ Ø±Ù‚Ù… Ø§Ù„Ø´Ø±ÙƒØ©: {
  isValid: true,
  message: 'Ø±Ù‚Ù… ØµØ­ÙŠØ­ Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ ØµØ§Ø¯Ù‚: +96612345672',
  formattedValue: '+96612345672'
}
ğŸ“„ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù PDF Ù„Ø§ØªÙØ§Ù‚ÙŠØ© Ø¹Ø¯Ù… Ø§Ù„Ø¥ÙØµØ§Ø­...
Ø¥Ù†Ø´Ø§Ø¡ Ø§ØªÙØ§Ù‚ÙŠØ© Ø¹Ø¯Ù… Ø§Ù„Ø¥ÙØµØ§Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… pdf-lib
ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§ØªÙØ§Ù‚ÙŠØ© Ø¹Ø¯Ù… Ø§Ù„Ø¥ÙØµØ§Ø­ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù: 1820 Ø¨Ø§ÙŠØª
â¬†ï¸ Ø±ÙØ¹ Ù…Ù„Ù PDF Ø¥Ù„Ù‰ ØµØ§Ø¯Ù‚...
ğŸ“„ Ø±ÙØ¹ ÙˆØ«ÙŠÙ‚Ø© Ø¥Ù„Ù‰ ØµØ§Ø¯Ù‚ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… API Ø§Ù„ØµØ­ÙŠØ­ Ù…Ø¹ webhook: NDA-966122345678-1756559306280.pdf
ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ù…Ø² ÙˆØµÙˆÙ„ Ø¬Ø¯ÙŠØ¯ Ù…Ù† ØµØ§Ø¯Ù‚...
ğŸ“§ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ ØµØ§Ø¯Ù‚ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…: mj2***
ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€: https://sandbox-api.sadq-sa.com/Authentication/Authority/Token
âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ ØµØ§Ø¯Ù‚ Ø¨Ù†Ø¬Ø§Ø­ Ù…Ù†: https://sandbox-api.sadq-sa.com/Authentication/Authority/Token
â° ØµØ§Ù„Ø­ Ø­ØªÙ‰: Ù£Ù¡â€/Ù¨â€/Ù¢Ù Ù¢Ù¥ØŒ Ù¤:Ù£Ù¦:Ù¥Ù¢ Ù…
ğŸ“‹ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ ØªÙƒÙˆÙŠÙ†Ø§Øª webhook
âœ… ØªÙ… Ø§Ø³ØªØ±Ø¬Ø§Ø¹ 0 webhook
âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø£Ùˆ Ø¥Ù†Ø´Ø§Ø¡ webhook: TypeError: existingWebhooks.find is not a function
    at SadiqAuthService.getOrCreateWebhook (/home/runner/workspace/server/sadiqAuthService.ts:477:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async SadiqAuthService.uploadDocument (/home/runner/workspace/server/sadiqAuthService.ts:182:23)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:1551:30)
ğŸ”„ Ø±ÙØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… endpoint: /IntegrationService/Document/Bulk/Initiate-envelope-Base64
ğŸ“‹ Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø±Ø¬Ø¹: linktech-nda-project-1756559321904-m10shz
ğŸ”‘ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ù…Ø² Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ù…Ø­ÙÙˆØ¸ Ù…Ø¤Ù‚ØªØ§Ù‹
ğŸ“‹ Sadiq upload response: {
  data: {
    envelopeId: '9e3e25fd-9716-484a-bf94-b0d20aa6b798',
    bulkFileResponse: [ [Object] ],
    destinations: null
  },
  errorCode: 0,
  message: 'Success',
  returnUrl: '/dashboard',
  stateValidationErrors: null,
  signature: ''
}
ğŸ“‹ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ø¹Ø±Ù Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ù…Ù† bulkFileResponse: 3789ffe5-33f0-4545-aca2-42ee7c547618
âœ… ØªÙ… Ø±ÙØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© Ø¨Ù†Ø¬Ø§Ø­ - Ù…Ø¹Ø±Ù Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©: 3789ffe5-33f0-4545-aca2-42ee7c547618
ğŸ“§ Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… API Ø§Ù„ØµØ­ÙŠØ­...
ğŸ“¨ Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… API Ø§Ù„ØµØ­ÙŠØ­...
ğŸ“ Ø±Ù‚Ù… Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ ØµØ§Ø¯Ù‚: +96652021746
ğŸ“ Ø±Ù‚Ù… Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ ØµØ§Ø¯Ù‚: +96612345672
ğŸ”„ Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… endpoint: /IntegrationService/Invitation/Send-Invitation
ğŸ“§ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙŠÙ†: 2
ğŸ“‹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ø§Ù„Ù…Ø±Ø³Ù„Ø© Ø¥Ù„Ù‰ ØµØ§Ø¯Ù‚ API:
ğŸ“‹ signatories input: [
  {
    "fullName": "Ù…Ø­Ù…Ø¯ Ø¬Ù…Ø§Ù„",
    "email": "mj266252@gmail.com",
    "phoneNumber": "+96652021746",
    "nationalId": "",
    "gender": "NONE"
  },
  {
    "fullName": "company",
    "email": "mj26653@gmail.com",
    "phoneNumber": "+96612345672",
    "nationalId": "",
    "gender": "NONE"
  }
]
ğŸ“‹ requestData.destinations: [
  {
    "destinationName": "Ù…Ø­Ù…Ø¯ Ø¬Ù…Ø§Ù„",
    "destinationEmail": "mj266252@gmail.com",
    "destinationPhoneNumber": "+96652021746",
    "nationalId": "",
    "signeOrder": 0,
    "ConsentOnly": false,
    "signatories": [
      {
        "signatureHigh": 80,
        "signatureWidth": 160,
        "pageNumber": 1,
        "text": "",
        "type": "Signature",
        "positionX": 70,
        "positionY": 500
      }
    ],
    "availableTo": "2025-09-29T13:08:43.194Z",
    "authenticationType": 0,
    "InvitationLanguage": 1,
    "RedirectUrl": "",
    "AllowUserToAddDestination": false
  },
  {
    "destinationName": "company",
    "destinationEmail": "mj26653@gmail.com",
    "destinationPhoneNumber": "+96612345672",
    "nationalId": "",
    "signeOrder": 1,
    "ConsentOnly": false,
    "signatories": [
      {
        "signatureHigh": 80,
        "signatureWidth": 160,
        "pageNumber": 1,
        "text": "",
        "type": "Signature",
        "positionX": 270,
        "positionY": 500
      }
    ],
    "availableTo": "2025-09-29T13:08:43.194Z",
    "authenticationType": 0,
    "InvitationLanguage": 1,
    "RedirectUrl": "",
    "AllowUserToAddDestination": false
  }
]
ğŸ”‘ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ù…Ø² Ø§Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ù…Ø­ÙÙˆØ¸ Ù…Ø¤Ù‚ØªØ§Ù‹
ğŸ“‹ Sadiq invitation response: {
  data: false,
  errorCode: 9,
  message: 'One or More Destination has invalid phone number, make sure the phone number is correct and start with country code',
  returnUrl: '/dashboard',
  stateValidationErrors: null,
  signature: ''
}
âŒ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯Ø¹ÙˆØ§Øª Ù…Ù† ØµØ§Ø¯Ù‚ - ÙƒÙˆØ¯ Ø§Ù„Ø®Ø·Ø£: 9
ğŸ“„ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£: One or More Destination has invalid phone number, make sure the phone number is correct and start with country code
âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯Ø¹ÙˆØ§Øª Ø¹Ø¨Ø± ØµØ§Ø¯Ù‚: Error: Sadiq invitation failed: One or More Destination has invalid phone number, make sure the phone number is correct and start with country code (Code: 9)
    at SadiqAuthService.sendSigningInvitations (/home/runner/workspace/server/sadiqAuthService.ts:360:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:1557:34)
âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø¯Ø¹ÙˆØ§Øª Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ø¹Ø¨Ø± ØµØ§Ø¯Ù‚: Error: Sadiq invitation failed: One or More Destination has invalid phone number, make sure the phone number is correct and start with country code (Code: 9)
    at SadiqAuthService.sendSigningInvitations (/home/runner/workspace/server/sadiqAuthService.ts:360:17)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:1557:34)
ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© NDA Ù„Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©...
ğŸ”„ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø¯ÙŠÙ„ Ù„Ø¶Ù…Ø§Ù† Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¯Ø¹ÙˆØ§Øª...
âš ï¸ SendGrid ØºÙŠØ± Ù…ØªÙˆÙØ±ØŒ ØªØ³Ø¬ÙŠÙ„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯Ø¹ÙˆØ© ÙÙ‚Ø·
ğŸ“§ Ø¯Ø¹ÙˆØ© Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ù€: Ù…Ø­Ù…Ø¯ Ø¬Ù…Ø§Ù„ (mj266252@gmail.com)
ğŸ“§ Ø¯Ø¹ÙˆØ© Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ù€: company (mj26653@gmail.com)
1:08:43 PM [express] POST /api/nda/24/complete 200 in 18050ms :: {"id":24,"message":"ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†â€¦
JWT Middleware: GET /api/notifications
Authorization header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjQ0LCJpYXQiOjE3NTY1NTkyNDksImV4cCI6MTc1NzE2NDA0OX0.DPK_IWKf1AHRTNZNAMBEO2fVYIoq1Fy5C7BVZn-Ib1U
Extracted token: Present
Token verification result: Valid
Decoded token userId: 44
User lookup result: Found user user2
Set req.user to: user2 (entrepreneur)
Ø·Ù„Ø¨ GET /api/notifications - Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©: Ù…ØµØ±Ø­
Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ØµØ±Ø­: user2, Ø¯ÙˆØ±: entrepreneur
Ø·Ù„Ø¨ GET /api/notifications - Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©: Ù…ØµØ±Ø­